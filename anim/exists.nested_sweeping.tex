\begin{center}
  \begin{tikzpicture}
    % Sweepline
    \onslide<2> { \draw[gray, thick, dashed] (-2.5, -5.0) -- (10, -5.0); }
    \onslide<3> { \draw[gray, thick, dashed] (-2.5, -4.2) -- (10, -4.2); }
    \onslide<4-9> { \draw[gray, thick, dashed] (-2.5, -3.2) -- (10, -3.2); }

    \onslide<4>   { \draw[gray, thick, dashed] (2.5, -3.4) -- (9.7, -3.4); }
    \onslide<5,9> { \draw[gray, thick, dashed] (2.5, -4.2) -- (9.7, -4.2); }
    \onslide<6-8> { \draw[gray, thick, dashed] (2.5, -5.0) -- (9.7, -5.0); }

    \onslide<10> { \draw[gray, thick, dashed] (-2.5, -2.5) -- (10, -2.5); }
    \onslide<11> { \draw[gray, thick, dashed] (-2.5, -1.7) -- (10, -1.7); }
    \onslide<12> { \draw[gray, thick, dashed] (-2.5, 0) -- (10, 0); }

    % --------------------------------------------------------------------------
    % INPUT
    \draw[black, densely dotted, thick]
      % left-hand side
      (-1.6,-5.6) -- (-1.8,-5.0) -- (-2.0,-4.2) -- (-1.4,-1.7) -- (-0.1,0.1)
      % right-hand side
      -- (0.1,0.1) -- (1.4,-1.7)  -- (2.0,-4.2)  -- (1.8,-5.0) -- (1.6,-5.6);

    \onslide<11-> {
      \node[shape = circle, draw = black, fill = white]
      (i_root) {};
    }

    \onslide<10-> {
      \node[shape = circle, draw = black, fill = white,
            below right=1.4cm and 0.2cm of i_root]
      (i_p1) {};
    }

    \onslide<11-> {
      \draw[->, black] (i_p1) edge (i_root);
    }

    \onslide<3-> {
      \node[shape = circle, draw = black, fill = white,
            below left=0.55cm and 0.2cm of i_p1]
      (i_p2) {};
    }

    \onslide<10-> {
      \draw[->, black, dashed] (i_p2) edge (i_p1);
    }

    \onslide<3-> {
      \node[shape = circle, draw = black, fill = white,
            below right=0.5cm and 0.2cm of i_p2]
      (i_quant2) {\tiny $x_j$};
    }

    \onslide<4-> {
      \draw[->, black, thick] (i_quant2) edge (i_p2);
    }

    \onslide<2-> {
      \node[shape = circle, draw = black, fill = white,
            below left=0.55cm and 0.2cm of i_quant2]
      (i_p3_1) {};

      \node[shape = circle, draw = black, fill = white,
            below right=0.55cm and 0.2cm of i_quant2]
      (i_p3_2) {};
    }

    \onslide<3-> {
      \draw[->, black, thick, dashed] (i_p3_1) edge (i_p2);
      \draw[->, black, dashed] (i_p3_1) edge (i_quant2);
      \draw[->, black] (i_p3_2) edge (i_quant2);
    }

    \onslide<2-> {
      \node[shape = circle, draw = black, fill = white,
            below left=0.55cm and 0.2cm of i_p3_1]
      (i_p4_1) {};

      \node[shape = circle, draw = black, fill = white,
            below left=0.55cm and 0.2cm of i_p3_2]
      (i_p4_2) {};

      \draw[->, black, dashed]
        (i_p4_1) edge (i_p3_1)
        (i_p4_2) edge (i_p3_2)
      ;
    }

    \onslide<2-> {
      \node[shape = rectangle, draw = black, fill = white,
            below right=5.4cm and -0.3cm of i_root]
      (i_p5_1) {};

      \node[shape = rectangle, draw = black, fill = white,
            below right=5.4cm and 0.7cm of i_root]
      (i_p5_2) {};

      \draw[->, black]
        (i_p5_1) edge (i_p4_1)
        (i_p5_2) edge (i_p4_2)
      ;
    }

    % --------------------------------------------------------------------------
    % REDUCED OUTPUT
    \onslide<2-6,8-> {
      \draw[thick] (3.0,-5.0) -- (3.2,-5.6)
                   (5.3,-5.0) -- (5.1,-5.6)
      ;

      \node[shape = rectangle, draw = black, fill = white,
            right=3.5cm of i_p5_1]
      (o1_p5_1) {};

      \node[shape = rectangle, draw = black, fill = white,
            right=3.5cm of i_p5_2]
      (o1_p5_2) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p4_1]
      (o1_p4_1) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p4_2]
      (o1_p4_2) {};

      \draw[->]
        (o1_p4_1) edge (o1_p5_1)
        (o1_p4_2) edge (o1_p5_2)
      ;
    }

    \onslide<3-5,9-> {
      \draw[thick] (2.9,-4.2) -- (3.0,-5.0)
                   (5.5,-4.2) -- (5.3,-5.0)
      ;

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p3_1]
      (o1_p3_1) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p3_2]
      (o1_p3_2) {};

      \draw[->, dashed]
        (o1_p3_1) edge (o1_p4_1)
        (o1_p3_2) edge (o1_p4_2)
      ;
    }

    \onslide<4> {
      \draw[thick, dotted] (3.2,-3.4) -- (2.9,-4.2)
                           (5.1,-3.4) -- (5.5,-4.2)
      ;
    }

    \onslide<10-> {
      \draw[thick] (2.8,-2.5) -- (2.9,-4.2)
                   (4.8,-2.5) -- (5.5,-4.2)
      ;

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p2]
      (o1_p2) {};

      \draw[->, dashed] (o1_p2) edge (o1_p3_1);
      \draw[->] (o1_p2) edge (o1_p3_2);
    }

    \onslide<11-> {
      \draw[thick] (2.9,-1.7) -- (2.8,-2.5)
                   (4.6,-1.7) -- (4.8,-2.5)
      ;

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_p1]
      (o1_p1) {};

      \draw[->, dashed] (o1_p1) edge (o1_p2);
    }

    \onslide<12-13> {
      \draw[thick] (3.8,0) -- (2.9,-1.7)
                   (4.0,0) -- (4.6,-1.7)
      ;

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of i_root]
      (o1_root) {};

      \draw[->] (o1_root) edge (o1_p1);
    }

    % --------------------------------------------------------------------------
    % SECOND SWEEP
    \onslide<5-9> {
      \draw[black, dotted, thick] (6.95, -2.9) -- (6.9,-3.2)
                                  (9.15, -2.9) -- (9.2,-3.2)
          ;

      \draw[black, densely dotted, thick] (6.9,-3.2) -- (6.8, -4.2)
                                          (9.2,-3.2) -- (9.4, -4.2)
      ;

      \node[shape = circle, draw = none, % dummy for crossing in-going arcs
            right=3.5cm of o1_p2]
      (o2_p2) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of o1_p3_1]
      (o2_p3_1) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of o1_p3_2]
      (o2_p3_2) {};

      \draw[->, black, dotted, thick] (o2_p3_1) edge (o2_p2);
      \draw[->, black, densely dotted, thick] (o2_p3_2) edge (o2_p2);
    }

    \onslide<6-8> {
      \draw[black, densely dotted, thick] (6.8, -4.2) -- (6.9, -5.0)
                                          (9.4, -4.2) -- (9.3, -5.0)
      ;

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of o1_p4_1]
      (o2_p4_1) {};

      \node[shape = circle, draw = black, fill = white,
            right=3.5cm of o1_p4_2]
      (o2_p4_2) {};

      \draw[->, black, dashed]
        (o2_p4_1) edge (o2_p3_1)
        (o2_p4_2) edge (o2_p3_2)
      ;

      \draw[black, densely dotted, thick] (6.9, -5.0) -- (7.2, -5.6)
                                          (9.3, -5.0) -- (9.0, -5.6)
      ;

      \node[shape = rectangle, draw = black, fill = white,
            right=3.5cm of o1_p5_1]
      (o2_p5_1) {};

      \node[shape = rectangle, draw = black, fill = white,
            right=3.5cm of o1_p5_2]
      (o2_p5_2) {};

      \draw[->, black]
        (o2_p5_1) edge (o2_p4_1)
        (o2_p5_2) edge (o2_p4_2)
      ;
    }
  \end{tikzpicture}
\end{center}