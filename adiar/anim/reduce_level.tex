  \begin{figure}
    \centering

    \begin{tikzpicture}[scale=0.8]
      % reduction rule 2
      \node at (0,2) (s1) {};
      \onslide<-4>{
        \node[shape=circle, draw=black] at (0,0) (t1) {$x_i$};

        \node[below left  = 0.7 and 0.2 of t1] (t1_0) {$\alpha'$};
        \node[below right = 0.7 and 0.2 of t1] (t1_1) {$\beta'$};
      }
      \onslide<5->{
        \node[shape=circle, draw=gray, color=gray] at (0,0) (t1) {$x_i$};

        \node[color=gray, below left  = 0.7 and 0.2 of t1] (t1_0) {$\alpha'$};
        \node[color=gray, below right = 0.7 and 0.2 of t1] (t1_1) {$\beta'$};
      }

      \node at (4,2) (s2) {};
      \only<1-3,6->{
        \node[shape = circle, draw = black] at (4,0) (t2) {$x_i$};
      }
      \only<4-5>{
        \node[shape = circle, draw = black] at (8,0) (t2) {$x_i$};
      }

      \node[below left  = 0.7 and 0.2 of t2] (t2_0) {$\gamma'$};
      \node[below right = 0.7 and 0.2 of t2] (t2_1) {$\delta'$};

      \node at (8,2) (s3) {};
      \only<1-3,6->{
        \node[shape = circle, draw = black] at (8,0) (t3) {$x_i$};
      }
      \only<4-5>{
        \node[shape = circle, draw = black] at (4,0) (t3) {$x_i$};
      }

      \node[below left  = 0.7 and 0.2 of t3] (t3_0) {$\alpha'$};
      \node[below right = 0.7 and 0.2 of t3] (t3_1) {$\beta'$};

      % -- priority queue
      \only<1-2>{
        \draw[->, dotted, thick]
          (t1_0) edge (t1)
          (t1_1) edge (t1)
          (t2_0) edge (t2)
          (t2_1) edge (t2)
          (t3_0) edge (t3)
          (t3_1) edge (t3)
        ;
      }
      \only<7>{
        \draw[->, dotted, thick]
          (t3) edge (s1)
          (t2) edge[bend right=40] (s2)
          (t3) edge[bend right=40] (s3)
        ;
      }

      % -- children edges
      \only<3->{
        \draw[->, dashed]
          (t2) edge (t2_0)
          (t3) edge (t3_0)
        ;
        \draw[->]
          (t2) edge (t2_1)
          (t3) edge (t3_1)
        ;
        \only<-4>{
          \draw[->, dashed] (t1) edge (t1_0);
          \draw[->]         (t1) edge (t1_1);
        }
        \only<5->{
          \draw[gray, ->, dashed] (t1) edge (t1_0);
          \draw[gray, ->]         (t1) edge (t1_1);
        }
      }

      % -- mapping
      \only<5>{
        \draw[purple, |->, thick, dotted] (t1) edge[bend right=20] (t3);
      }
      \only<6->{
        \draw[purple, |->, thick, dotted] (t1) edge[bend right=20] (t3);
      }

      % -- parent pointers
      \only<1-3,6->{
        \draw[blue, ->]
          (t1) edge (s1)
          (t2) edge (s2)
          (t3) edge (s3)
        ;
      }
      \only<4-5>{
        \draw[blue!50!white, ->, dotted]
          (t1) edge (s1)
          (t2) edge (s2)
          (t3) edge (s3)
        ;
      }

      % reduction rule 1
      \node at (12,2) (s0) {};

      \node at (12,-1.53) (t0_0) {$\alpha'$};

      % -- before
      \onslide<1>{
        \node[shape=circle, draw=black] at (12,0) (t0) {$x_i$};
      }

      % -- after
      \onslide<2->{
        \node[shape=circle, draw=gray, color=gray] at (12,0) (t0) {$x_i$};
        \draw[purple, |->, thick, dotted] (t0) edge (t0_0);
      }

      % -- priority queue
      \onslide<1>{
        \draw[->, dotted, thick] (t0_0) edge[bend left]  (t0);
        \draw[->, dotted, thick] (t0_0) edge[bend right] (t0);
      }
      \onslide<7->{
        \draw[->, dotted, thick] (t0_0) edge[bend right=40] (s0);
      }
      \draw[blue,->] (t0) edge (s0);
    \end{tikzpicture}
  \end{figure}