\begin{columns}
  \begin{column}{0.49\textwidth}
    \begin{figure}
      \centering

      \begin{subfigure}{1\linewidth}
        \centering

        \begin{tikzpicture}[scale=0.9, every node/.style={transform shape}]
          % blocks
          \draw[draw=gray, dashed] (-0.45,-0.45) rectangle ++(1.3,0.9);
          \draw[draw=gray, dashed] (-0.45,-2.35) rectangle ++(1.95,1.85);
          \draw[draw=gray, dashed] (-1.5,-3.32) rectangle ++(3,0.9);
          \draw[draw=gray, dashed] (-1.5,-4.35) rectangle ++(3,0.9);

          % nodes
          \input{tikz/bdd_example_a.tex}
          
          % animations (nodes)
          \onslide<2>{
            \node[shape = circle, orange, draw = orange]
            {$x_0$};
          }

          \onslide<3>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 1]
            {$x_2$};
          }

          \onslide<4>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<5>{
            \node[shape = rectangle, orange, draw = orange, below=.4cm of 31]
            {$\top$};            
          }

          \onslide<6>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<7>{
            \node[shape = rectangle, orange, draw = orange, below=.4cm of 32]
            {$\bot$};
          }

          \onslide<8>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 2]
            {$x_3$};
          }
          
          \onslide<9>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 1]
            {$x_2$};
          }
          
          \onslide<10>{
            \node[shape = circle, orange, draw = orange, below right=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<11>{
            \node[shape = rectangle, orange, draw = orange, below=.4cm of 32]
            {$\bot$};
          }

          \onslide<12>{
            \node[shape = circle, orange, draw = orange, below right=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<13>{
            \node[shape = rectangle, orange, draw = orange, below=.4cm of 31]
            {$\top$};            
          }

          \onslide<14>{
            \node[shape = circle, orange, draw = orange, below right=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<15>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 1]
            {$x_2$};
          }

          \onslide<16>{
            \node[shape = circle, orange, draw = orange]
            {$x_0$};
          }

          \onslide<17>{
            \node[shape = circle, orange, draw = orange, below right= .4cm and .5cm of 0]
            {$x_1$};
          }

          \onslide<18>{
            \node[shape = circle, orange, draw = orange, below left=.4cm and .5cm of 1]
            {$x_2$};
          }

          \onslide<19>{
            \node[shape = circle, orange, draw = orange, below right= .4cm and .5cm of 0]
            {$x_1$};
          }

          \onslide<20>{
            \node[shape = circle, orange, draw = orange, below right=.4cm and .5cm of 2]
            {$x_3$};
          }

          \onslide<21>{
            \node[shape = circle, orange, draw = orange, below right= .4cm and .5cm of 0]
            {$x_1$};
          }

          \onslide<22>{
            \node[shape = circle, orange, draw = orange]
            {$x_0$};
          }

          % animations (I/Os)
          \onslide<2-3>{
            \draw[draw=purple] (-0.45,-0.45) rectangle ++(1.3,0.9);
          }
          \onslide<3-4>{
            \draw[draw=purple] (-0.45,-2.35) rectangle ++(1.95,1.85);
          }
          \onslide<4-15>{
            \draw[draw=purple] (-1.5,-3.32) rectangle ++(3,0.9);
          }
          \onslide<5-8>{
            \draw[draw=purple] (-1.5,-4.35) rectangle ++(3,0.9);
          }
          \onslide<9-10>{
            \draw[draw=purple] (-0.45,-2.35) rectangle ++(1.95,1.85);
          }
          \onslide<11-14>{
            \draw[draw=purple] (-1.5,-4.35) rectangle ++(3,0.9);
          }
          \onslide<15-22>{
            \draw[draw=purple] (-0.45,-2.35) rectangle ++(1.95,1.85);
          }
          \onslide<16-19>{
            \draw[draw=purple] (-0.45,-0.45) rectangle ++(1.3,0.9);
          }
          \onslide<20-21>{
            \draw[draw=purple] (-1.5,-3.32) rectangle ++(3,0.9);
          }
          \onslide<22>{
            \draw[draw=purple] (-0.45,-0.45) rectangle ++(1.3,0.9);
          }

          % animations (cache)
          \onslide<8->{
            \node[gray, right=.02cm of 31]
            {\tiny $1$};
          }

          \onslide<14->{
            \node[gray, left=.02cm of 32]
            {\tiny $1$};
          }
          
          \onslide<15->{
            \node[gray, right=.02cm of 2]
            {\tiny $2$};
          }

          \onslide<21->{
            \node[gray, left=.02cm of 1]
            {\tiny $3$};
          }

          \onslide<22-23>{
            \node[gray, right=.02cm of 0]
            {\tiny $5$};
          }
        \end{tikzpicture}

        \caption{$(x_0 \wedge x_1 \wedge x_3) \vee (x_2 \oplus x_3)$}
      \end{subfigure}
      
      \caption{Blocks active in memory}
    \end{figure}

  \end{column}
  
  \begin{column}{0.49\textwidth}
    \begin{center}
      % { \small
      %   \begin{equation*}
      %     \texttt{cp}(n) =
      %     \begin{cases}
      %       1 & n = \top
      %       \\
      %       0 & n = \bot
      %       \\
      %       \texttt{cp}(n.low) + \texttt{cp}(n.high) & \text{otherwise}
      %     \end{cases}
      %   \end{equation*}
      % }

      % \vspace{20pt}

      $M = 4$, $B = 2$

      \vspace{10pt}

      \begin{tabular}{c c}
        node I/Os & cache lookups
        \\ \hline
        \only<1>{$0$}%
        \only<2>{$1$}%
        \only<3>{$2$}%
        \only<4>{$3$}%
        \only<5-8>{$4$}%
        \only<9-10>{$5$}%
        \only<11-14>{$6$}%
        \only<15>{$7$}%
        \only<16-19>{$8$}%
        \only<20-21>{$9$}%
        \only<22->{$10$}%
                  &
                    \only<1>{$0$}%
                    \only<2>{$1$}%
                    \only<3>{$2$}%
                    \only<4-9>{$3$}%
                    \only<10-16>{$4$}%
                    \only<17>{$5$}%
                    \only<18-19>{$6$}%
                    \only<20->{$7$}%
      \end{tabular}
    \end{center}      
    
  \end{column}
\end{columns}
